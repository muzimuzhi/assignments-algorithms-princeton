<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- saved from url=(0069)https://coursera.cs.princeton.edu/algs4/assignments/collinear/faq.php -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="./FAQ_files/assignments.css">
    <link rel="stylesheet" type="text/css" href="./FAQ_files/link-icons.css">
    <script type="text/javascript" src="./FAQ_files/MathJax.js"></script>
    <script type="text/javascript" src="./FAQ_files/TJKToggleDL.js"></script><link href="./FAQ_files/TJK_ToggleDL.css" type="text/css" rel="stylesheet"><link href="./FAQ_files/TJK_ToggleDL_ie5mac.css" type="text/css" rel="stylesheet">
    <title>Programming Assignment 3: FAQ</title>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body onload="TJK_ToggleDL()" class="faq"><div id="MathJax_Message" style="display: none;"></div>

<div id="nav2">
<a href="https://coursera.cs.princeton.edu/algs4/assignments/collinear/specification.php" id="logo-noborder"> <img src="./FAQ_files/logo.png"> Collinear Points</a>

<ul id="links">
<li><a href="https://coursera.cs.princeton.edu/algs4/assignments/collinear/specification.php">Spec</a></li>
<li><a href="https://coursera.cs.princeton.edu/algs4/assignments/collinear/faq.php" id="here">FAQ</a></li>
<li><a href="https://coursera.cs.princeton.edu/algs4/assignments/collinear/collinear.zip">Project</a></li>
<li><a href="https://www.coursera.org/learn/algorithms-part1/programming/prXiW/collinear-points/submission" target="_blank">Submit</a></li>
</ul>
</div>


<h2>Frequently Asked Questions</h2>


<p><b>Can the same point appear more than once as input to methods in Point?</b>
Yes.
For the <code>slopeTo()</code> method, this requirement is explicitly stated in the API;
for the comparison methods, this requirement is implicit in the 
contracts for <code>Comparable</code> and <code>Comparator</code>.


</p><p><b>The reference solution outputs a line segment in the order
<em>p</em>→<em>q</em>
but my solution outputs it in the reverse order
<em>q</em>→<em>p</em>. Is that ok?</b>
Yes, there are two valid ways to output a line segment.

</p><p><b>The reference solution outputs the line segments in a different order
than my solution. Is that OK?</b>
Yes, if there are <em>k</em> line segments, then there are <em>k</em>! different possible
ways to output them.

</p><p><b>How do I sort a subarray in Java?</b>
 <code>Arrays.sort(a, lo, hi)</code> sorts the subarray
from <code>a[lo]</code> to <code>a[hi-1]</code> according to the natural
order of <code>a[]</code>. You can use a <code>Comparator</code> as the fourth
argument to sort according to an alternate order. 

</p><p><b>Where can I see examples of Comparable and Comparator?</b>
See the lecture slides.

</p><p><b>My program fails only on (some) vertical line segments. What could be going wrong?</b>
Are you dividing by zero? With integers, this produces a run-time
exception. With floating-point numbers, 1.0/0.0 is  positive infinity
and -1.0/0.0 is negative infinity. You may also use the constants 
<code>Double.POSITIVE_INFINITY</code> and <code>Double.NEGATIVE_INFINITY</code>.

</p><p><b>What does it mean for slopeTo() to return positive zero?</b>
Java (and the IEEE 754 floating-point standard) define two representations of zero:
negative zero and positive zero.
</p><blockquote><pre>double a = 1.0;
double x = (a - a) /  a;   // positive zero ( 0.0)
double y = (a - a) / -a;   // negative zero (-0.0)
</pre></blockquote>

Note that while <code>(x == y)</code> is guaranteed to be true,
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(double[])">Arrays.sort()</a> treats
negative zero as strictly less than positive zero.
Thus, to make the specification precise, we require you to return positive zero for horizontal line segments.
Unless your program casts to the wrapper type <code>Double</code> (either explicitly or via autoboxing),
you probably will not notice any difference in behavior;
but, if your program does cast to the wrapper type and fails only on (some) horizontal line segments, this may be
the cause.

<p><b>Is it OK to compare two floating-point numbers a and b for exactly equality?</b>
In general, it is hazardous to compare a and b for equality if either is susceptible to
floating-point roundoff error.
However, in this case, you are computing b/a, where a and b are integers between -32,767 and 32,767.
In Java (and the IEEE 754 floating-point standard), the result of
a floating-point operation (such as division) is the nearest representable value. Thus, for example,
it is guaranteed that <code>(9.0/7.0 == 45.0/35.0)</code>.
In other words, it's sometimes OK to compare floating-point numbers for exact equality
(but only when you know exactly what you are doing!)
</p><p>
Note also that it is possible to implement <code>compare()</code> and <code>FastCollinearPoints</code>
using only integer arithmetic (but you are not required to do so).

</p><p><b>I'm having trouble avoiding subsegments  Fast.java when there are 5 or more points on a line
segment. Any advice?</b>
Not handling the 5-or-more case is a bit tricky,
so don't kill yourself over it.

</p><p><b>I created a nested Comparator class within Point. Within the nested Comparator class,
the keyword <code>this</code> refers to the Comparator object. How do I refer to the Point instance
of the outer class?</b>
Use <code>Point.this</code> instead of <code>this</code>.
Note that you can refer directly to instance methods of the outer class (such as <code>slopeTo()</code>);
with proper design, you shouldn't need this awkward notation.

<!--
<p><b>Why aren't I allowed to change the pen color or pen radius?</b>
It will mess with our grading script.
-->

</p><h2>Testing</h2>

<p><b>Sample data files.</b>
The zip file
<a href="https://coursera.cs.princeton.edu/algs4/assignments/collinear/collinear.zip">collinear.zip</a>
contains some sample input files in the specified format.
Associated with some of the input .txt files are output .png files that contains the
desired graphical output.
Thanks to Jesse Levinson '05 for the remarkable input file <code>rs1423.txt</code>; feel free
to create your own and share with us in the Discussion Forums.

</p><p><br>

</p><h2>Possible Progress Steps</h2>

These are purely suggestions for how you might make progress.  You do
not have to follow these steps.

<ol>

<p></p><li><b>Getting started.</b>
Download 
<a href="https://coursera.cs.princeton.edu/algs4/assignments/collinear/files/Point.java">Point.java</a>.


<p></p></li><li> <b>Slope.</b> 
To begin, implement the <code>slopeTo()</code> method.
Be sure to consider a variety of corner cases, including horizontal, vertical,
and degenerate line segments.

<p></p></li><li> <b>Brute force algorithm.</b>
Write code to iterate through all 4-tuples and check if the 4 points are collinear.
To form a line segment, you need to know its endpoints.
One approach is to form a line segment
only if the 4 points are in ascending order (say, relative to the natural order),
in which case, the endpoints are the first and last points.

<p>
<em>Hint</em>: don't waste time micro-optimizing the brute-force solution. Though, there
are two easy opportunities. First, you can iterate through all combinations of 4 points (N choose 4)
instead of all 4 tuples (N^4), saving a factor of 4! = 24. Second, you don't need to consider whether
4 points are collinear if you already know that the first 3 are not collinear;
this can save you a factor of N on typical inputs.

</p><p></p></li><li> <b>Fast algorithm.</b>
<ul>
<p></p><li>
Implement the <code>slopeOrder()</code> method in <code>Point</code>.
The complicating issue is that the comparator needed to compare the
slopes that two points <code>q</code> and <code>r</code> make with a third
point <code>p</code>, which changes from sort to sort.
To do this, create a private nested (non-static) class
<code>SlopeOrder</code> that
implements the <code>Comparator&lt;Point&gt;</code> interface.
This class has a single method <code>compare(q1, q2)</code> that
compares the slopes that <code>q1</code>
and <code>q2</code> make with the invoking object <code>p</code>.
the <code>slopeOrder()</code> method should create an instance of this
nested class and return it.

<p></p></li><li>
Implement the sorting solution. Watch out for corner cases.
Don't worry about 5 or more points on a line segment yet.


</li></ul>

</li></ol>




<h2>Enrichment</h2>

<p><b>Can the problem be solved in quadratic time and linear space?</b>
Yes, but the only compare-based algorithm I know of that guarantees quadratic time in the
worst case is quite sophisticated. It involves
converting the points to their dual line segments and
<a href="http://www.hpl.hp.com/techreports/Compaq-DEC/SRC-RR-9.pdf">topologically sweeping the
arrangement of lines</a> by Edelsbrunner and Guibas.

</p><p><b>Can the decision version of the problem be solved in subquadratic time?</b>
The original version of the problem cannot be solved in subquadratic time
because there might be a quadratic number of line segments to output. (See
next question.)
The decision version asks whether there exists a set of 4 collinear points.
This version of the problem belongs to a group of problems that are known as
<a href="http://cs.smith.edu/~orourke/TOPP/P11.html#Problem.11">3SUM-hard</a>.
A famous unresolved conjecture is that such problems have
no subquadratic algorithms. Thus, the sorting algorithm presented
above is about the best we can hope for (unless the conjecture
is wrong). Under a <a href="http://cjtcs.cs.uchicago.edu/articles/1999/8/contents.html">
restricted decision tree</a> model of computation, Erickson proved that
the conjecture is true.

</p><p><b>What's the maximum number of (maximal) collinear sets of points
in a set of n points in the plane?</b>
It can grow quadratically as a function of <em>N</em>.
Consider the <em>n</em> points of the form:
(<em>x</em>, <em>y</em>) for <em>x</em> = 0, 1, 2, and 3 and
<em>y</em> = 0, 1, 2, ..., <em>n</em> / 4.
This means that if you store all of the (maximal) collinear sets of points,
you will need quadratic space in the worst case.



</p></body></html>